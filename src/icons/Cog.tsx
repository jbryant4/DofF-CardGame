import * as path from 'path';
import React, { useEffect, useState } from 'react';

type OwnProps = React.SVGProps<SVGSVGElement> & {
  size?: number;
  activate: boolean;
  timeCog?: boolean;
  positiveRotation?: boolean;
};
const Cog = ({
  activate,
  positiveRotation = true,
  size = 100,
  timeCog = false,
  ref,
  ...props
}: OwnProps) => {
  const [rotation, setRotation] = useState(0);

  useEffect(() => {
    let intervalId;

    if (activate) {
      intervalId = setInterval(() => {
        setRotation(rot => (positiveRotation ? rot + 5 : rot - 5));
      }, 100);
    }

    return () => {
      clearInterval(intervalId);
    };
  }, [activate, positiveRotation]);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width={size}
      height={size}
      {...props}
      ref={ref}
      version="1.1"
      viewBox="0 0 100 100"
    >
      <g>
        <path
          className={timeCog ? '' : 'hidden'}
          d="m58.109 43.242v-5.4062c0.74219 0 1.3516-0.60938 1.3516-1.3516s-0.60938-1.3516-1.3516-1.3516l-16.219 0.003907c-0.75781 0-1.3516 0.60938-1.3516 1.3516 0 0.74219 0.59375 1.3516 1.3516 1.3516v5.4062c0 2.8125 1.4453 5.2969 3.6367 6.7578-2.1914 1.4414-3.6367 3.9297-3.6367 6.7539v5.4062c-0.75781 0-1.3516 0.60938-1.3516 1.3516s0.59375 1.3516 1.3516 1.3516h16.215c0.74219 0 1.3516-0.60938 1.3516-1.3516s-0.60938-1.3516-1.3516-1.3516v-5.4062c0-2.8242-1.4453-5.3125-3.6367-6.7578 2.1953-1.4609 3.6406-3.9453 3.6406-6.7578z"
        />
        <path
          transform={`rotate(${rotation} 50 50)`}
          d="m93.688 42.242-7.0938-2.5273-3.4609-8.3242 3.2422-6.8125c0.24219-0.51172 0.13672-1.1367-0.26953-1.5273l-9.1641-9.1758c-0.40625-0.40625-1.0117-0.5-1.5391-0.25781l-6.8125 3.2305-8.3203-3.4414-2.5117-7.1094c-0.20312-0.52734-0.70312-0.89062-1.2852-0.89062h-12.961c-0.56641 0-1.082 0.36328-1.2695 0.89062l-2.5273 7.1094-8.3242 3.4453-6.8125-3.2305c-0.51172-0.24219-1.1367-0.14844-1.5391 0.25781l-9.1641 9.1758c-0.40625 0.39062-0.51172 1.0117-0.25781 1.5273l3.2305 6.8125-3.4453 8.3242-7.1094 2.5273c-0.53516 0.1875-0.88672 0.69922-0.88672 1.2656v12.961c0 0.58203 0.35156 1.0938 0.89062 1.2852l7.1094 2.5273 3.4453 8.3242-3.2305 6.8125c-0.25781 0.51172-0.14844 1.1211 0.25781 1.5273l9.1641 9.1641c0.40625 0.40625 1.0273 0.51172 1.5391 0.26953l6.8125-3.2305 8.3242 3.4453 2.5273 7.0938c0.1875 0.53906 0.69922 0.90234 1.2656 0.90234h12.961c0.58203 0 1.082-0.36328 1.2852-0.90625l2.5117-7.0938 8.3242-3.4453 6.8125 3.2305c0.52734 0.24219 1.1367 0.13672 1.5391-0.26953l9.1641-9.1641c0.40625-0.40625 0.51172-1.0117 0.26953-1.5273l-3.2422-6.8125 3.4609-8.3242 7.0938-2.5273c0.53906-0.1875 0.90625-0.70312 0.90625-1.2852l-0.003906-12.957c0-0.56641-0.36328-1.0781-0.90625-1.2695zm-43.688 36.664c-15.945 0-28.918-12.973-28.918-28.906 0-15.945 12.973-28.906 28.918-28.906 15.934 0 28.906 12.961 28.906 28.906 0 15.934-12.973 28.906-28.906 28.906z"
        />
      </g>
    </svg>
  );
};

export default Cog;
